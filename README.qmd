---
title: "README"
format: gfm
editor: visual
---

```{r}
#| echo: false
knitr::opts_chunk$set(echo = FALSE)
```

减重如山倒，增肌如抽丝。2022年写博士毕业论文的一个月体重减少了两公斤，之后去德国两个月又减少了两公斤，之后体重维持平稳。为了恢复体重，之后断断续续健身和增加热量摄入，无果。2024年春末夏初终于开始认真健身，企图将摄入的热量固定下来。通常每周训练3次，重点训练胸肌和肩背。两大肌群各有3-4个动作，每次训练中，每个动作做3组，每组8-15个重复。健身开始至今，尝试了约20个动作，以固定器械为主，下面两图展示最常练的几个动作的重量变化。

```{r}
# 次数较多的项目的重量变化。
train_record %>% 
  group_by(exercise) %>% 
  mutate(date_id_max = max(date_id)) %>% 
  ungroup() %>% 
  filter(date_id_max > 20) %>% 
  ggplot() + 
  geom_line(aes(date_id, weight_scale, col = rep), size = 0.7) + 
  scale_color_gradient2(
    low = "darkgreen", high = "darkred", mid = "orange", midpoint = 12
  ) + 
  facet_wrap(.~ exercise) + 
  theme_bw() + 
  labs(x = "第N次训练", y = "重量标准化值")
# 可视化重量变化。
ggplot() + 
  geom_segment(
    data = train_first_last_wide, 
    aes(x = exercise, xend = exercise, y = `初始重量`, yend = `当前重量`), 
    col = "darkgrey", size = 1
  ) + 
  geom_point(
    data = train_first_last, 
    aes(exercise, weight, col = date_id), position = "identity"
  ) + 
  coord_flip() + 
  theme_bw() + 
  labs(x = "项目", y = "重量", col = "")
```
